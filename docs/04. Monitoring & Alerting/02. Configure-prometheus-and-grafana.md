# Configuration of Prometheus and Grafana

In this section, we will use Helm to set up both Prometheus and Grafana for monitoring and visualization purposes. Follow the steps below to configure Prometheus and Grafana on your Kubernetes cluster.

## Configure Prometheus Using Helm

### Step 1: Add Prometheus Helm Repository

To get started, add the Prometheus Helm repository to your Helm setup. Run the following command:

```sh
helm repo add prometheus-community https://prometheus-community.github.io/helm-charts
```

### Step 2: Update Helm Repositories

Update your Helm repositories to ensure you have the latest information about available charts:

```sh
helm repo update
```

### Step 3: Install Prometheus Using Helm

Now, let's install Prometheus on your cluster using Helm:

```sh
helm install prometheus prometheus-community/prometheus
```

### Step 4: Expose Prometheus Server

To access Prometheus in your web browser, expose the Prometheus service with a NodePort. Use the following command:

```sh
kubectl expose service prometheus-server --type=NodePort --target-port=9090 --name=prometheus-server-ext
```

For more detailed documentation, please refer to [this link](https://artifacthub.io/packages/helm/prometheus-community/prometheus).

## Configure Grafana Using Helm

### Step 1: Add Grafana Helm Repository

Begin by adding the Grafana Helm repository to your Helm setup:

```sh
helm repo add grafana https://grafana.github.io/helm-charts
```

### Step 2: Update Helm Repositories

Update your Helm repositories to ensure you have the latest Grafana chart:

```sh
helm repo update
```

### Step 3: Install Grafana Using Helm

Install Grafana on your cluster using Helm:

```sh
helm install grafana grafana/grafana
```

### Step 4: Expose Grafana Service

To access Grafana via a web browser, expose the Grafana service with a NodePort:

```sh
kubectl expose service grafana --type=NodePort --target-port=3000 --name=grafana-ext
```

For more detailed documentation, please refer to [this link](https://artifacthub.io/packages/helm/grafana/grafana).

## Access the Web UI for Prometheus and Grafana

Now that you've configured Prometheus and Grafana, you can access their web interfaces.

### Get the IP of Your Minikube Cluster

To find the IP address of your Minikube cluster, run:

```sh
minikube ip
```

### Access Prometheus and Grafana UI

- Prometheus: Open your web browser and enter `<minikube_ip>:9090`.
- Grafana: Open your web browser and enter `<minikube_ip>:3000>`.
